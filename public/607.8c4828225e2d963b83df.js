(self.webpackChunkprueba_tecnica_telematica_ltda=self.webpackChunkprueba_tecnica_telematica_ltda||[]).push([[607],{2607:(t,e,a)=>{"use strict";a.r(e),a.d(e,{DashboardModule:()=>k});var i=a(8583),s=a(4655),r=a(3679),n=a(2238),o=a(7716),u=a(6518),c=a(1154),m=a(1095);let l=(()=>{class t{constructor(t,e,a,i,s){this.dialogRef=t,this.data=e,this.fb=a,this.authService=i,this.chatService=s,this.miFormulario=this.fb.group({message:["",r.kI.required]})}get usuario(){return this.authService.usuario}ngOnInit(){}enviar(){var t;this.mensaje={message:null===(t=this.miFormulario.get("message"))||void 0===t?void 0:t.value,nombreEmisor:this.usuario.name,uidEmisor:this.usuario.uid,uidReceptor:this.data.uid},this.chatService.enviarMensaje(this.mensaje).subscribe(t=>{console.log(t)}),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(n.so),o.Y36(n.WI),o.Y36(r.qu),o.Y36(u.e),o.Y36(c.a))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-enviar-mensaje"]],decls:11,vars:3,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[1,"form-group"],["rows","5","formControlName","message",1,"form-control"],["mat-raised-button","","color","primary","type","submit",1,"mt-3"]],template:function(t,e){1&t&&(o.TgZ(0,"h3"),o.TgZ(1,"b"),o._uU(2,"Para:"),o.qZA(),o._uU(3),o.qZA(),o._UZ(4,"hr"),o.TgZ(5,"form",0),o.NdJ("ngSubmit",function(){return e.enviar()}),o.TgZ(6,"div",1),o._UZ(7,"textarea",2),o.qZA(),o.TgZ(8,"div"),o.TgZ(9,"button",3),o._uU(10,"Enviar"),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(3),o.AsE(" ",e.data.name,", ",e.data.email,""),o.xp6(2),o.Q6J("formGroup",e.miFormulario))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,m.lW],encapsulation:2}),t})();var p=a(3017),g=a(2522),d=a(6627),h=a(9992),Z=a(1436);function f(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"a",11),o.NdJ("click",function(){const e=o.CHM(t).$implicit,a=o.oxw();return o.MAs(2).toggle()&&a.enviarMensaje(e)}),o.TgZ(1,"mat-icon",12),o._uU(2,"people"),o.qZA(),o.TgZ(3,"span"),o._uU(4),o.qZA(),o.qZA()}if(2&t){const t=e.$implicit;o.xp6(4),o.Oqu(t.name)}}let b=(()=>{class t{constructor(t,e,a,i){this.router=t,this.authService=e,this.chatService=a,this.dialog=i}get usuario(){return this.authService.usuario}ngOnInit(){this.chatService.obtenerUsuarios().subscribe(t=>{this.usuarios=t.usuarios,this.usuarios.forEach((t,e)=>{t.uid===this.usuario.uid&&this.usuarios.splice(e,1)})})}logout(){this.router.navigateByUrl("/auth"),this.authService.logout()}enviarMensaje(t){this.dialog.open(l,{width:"500px",data:t})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(s.F0),o.Y36(u.e),o.Y36(c.a),o.Y36(n.uw))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-dashboard"]],decls:29,vars:2,consts:[["fullscreen",""],["mode","push"],["sidenav",""],[1,"spacer"],["mat-icon-button","",3,"click"],["routerLink","./listado","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["mat-icon-button","","matTooltip","Chat",3,"click"],["mat-icon-button","","routerLink","/dashboard","matTooltip","Men\xfa pricipal"],["mat-icon-button","","routerLink","/dashboard/mensajes","matTooltip","Buz\xf3n de entrada"],["mat-stroked-button","","color","warn",1,"ms-2",3,"click"],[1,"container"],["routerLink","./listado","mat-list-item","",3,"click"],["mat-list-icon",""]],template:function(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"mat-sidenav-container",0),o.TgZ(1,"mat-sidenav",1,2),o.TgZ(3,"mat-toolbar"),o.TgZ(4,"span"),o._uU(5,"Chat"),o.qZA(),o._UZ(6,"span",3),o.TgZ(7,"button",4),o.NdJ("click",function(){return o.CHM(t),o.MAs(2).toggle()}),o.TgZ(8,"mat-icon"),o._uU(9,"chat"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"mat-nav-list"),o.YNc(11,f,5,1,"a",5),o.qZA(),o.qZA(),o.TgZ(12,"mat-toolbar"),o.TgZ(13,"button",6),o.NdJ("click",function(){return o.CHM(t),o.MAs(2).toggle()}),o.TgZ(14,"mat-icon"),o._uU(15,"chat"),o.qZA(),o.qZA(),o.TgZ(16,"button",7),o.TgZ(17,"mat-icon"),o._uU(18,"menu"),o.qZA(),o.qZA(),o.TgZ(19,"button",8),o.TgZ(20,"mat-icon"),o._uU(21,"email"),o.qZA(),o.qZA(),o._UZ(22,"span",3),o.TgZ(23,"span"),o._uU(24),o.qZA(),o.TgZ(25,"button",9),o.NdJ("click",function(){return e.logout()}),o._uU(26," Logout "),o.qZA(),o.qZA(),o.TgZ(27,"div",10),o._UZ(28,"router-outlet"),o.qZA(),o.qZA()}2&t&&(o.xp6(11),o.Q6J("ngForOf",e.usuarios),o.xp6(13),o.Oqu(e.usuario.name))},directives:[p.TM,p.JX,g.Ye,m.lW,d.Hw,h.Hk,i.sg,Z.gM,s.rH,s.lC,s.yS,h.Tg,h.Nh],styles:[""]}),t})();var v=a(3738);function q(t,e){if(1&t&&(o.TgZ(0,"mat-card",1),o.TgZ(1,"mat-card-header"),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.qZA(),o.TgZ(4,"mat-card-content"),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.qZA(),o.qZA()),2&t){const t=e.$implicit;o.xp6(3),o.Oqu(t.nombreEmisor),o.xp6(3),o.hij(" ",t.message," ")}}let A=(()=>{class t{constructor(t,e){this.chatService=t,this.authService=e}get usuario(){return this.authService.usuario}ngOnInit(){this.chatService.obtenerMensajesRecibidos(this.usuario.uid).subscribe(t=>{this.mensajes=t.mensajes})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(c.a),o.Y36(u.e))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-mensajes"]],decls:1,vars:1,consts:[["class","tarjeta__publicidad mt-4",4,"ngFor","ngForOf"],[1,"tarjeta__publicidad","mt-4"]],template:function(t,e){1&t&&o.YNc(0,q,7,2,"mat-card",0),2&t&&o.Q6J("ngForOf",e.mensajes)},directives:[i.sg,v.a8,v.dk,v.n5,v.dn],styles:[""]}),t})();const T=[{path:"",component:b,children:[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-publicaciones"]],decls:2,vars:0,template:function(t,e){1&t&&(o.TgZ(0,"p"),o._uU(1,"publicaciones works!"),o.qZA())},encapsulation:2}),t})()},{path:"mensajes",component:A},{path:"**",redirectTo:""}]}];let _=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[s.Bz.forChild(T)],s.Bz]}),t})();var U=a(1770);let k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[i.ez,_,U.q,r.UX]]}),t})()}}]);