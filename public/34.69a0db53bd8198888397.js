(self.webpackChunkprueba_tecnica_telematica_ltda=self.webpackChunkprueba_tecnica_telematica_ltda||[]).push([[34],{9034:(r,e,a)=>{"use strict";a.r(e),a.d(e,{AuthModule:()=>T});var t=a(8583),o=a(4655),i=a(3679),n=a(7716),s=a(6518),l=a(7001),u=a(8295),m=a(9983),c=a(6627),d=a(1095);function g(r,e){if(1&r&&(n.TgZ(0,"span",10),n._uU(1),n.qZA()),2&r){const r=n.oxw();n.xp6(1),n.hij(" ",r.emailErrorMsg," ")}}function p(r,e){1&r&&(n.TgZ(0,"span",10),n._uU(1," La contrase\xf1a debe ser mayor de 6 caracteres "),n.qZA())}function Z(r,e){1&r&&(n.TgZ(0,"span",12),n._uU(1," Debe de ser en formato de nombre y apellido "),n.qZA())}function h(r,e){if(1&r&&(n.TgZ(0,"span",12),n._uU(1),n.qZA()),2&r){const r=n.oxw();n.xp6(1),n.hij(" ",r.emailErrorMsg," ")}}function v(r,e){1&r&&(n.TgZ(0,"span",12),n._uU(1," La contrase\xf1a debe ser mayor de 6 caracteres "),n.qZA())}function f(r,e){1&r&&(n.TgZ(0,"span",12),n._uU(1," Las contrase\xf1as deben ser iguales "),n.qZA())}const q=[{path:"",children:[{path:"login",component:(()=>{class r{constructor(r,e,a,t){this.fb=r,this.autService=e,this.router=a,this._snackBar=t,this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",this.miFormulario=this.fb.group({email:["",[i.kI.required,i.kI.pattern(this.emailPattern)]],password:["",[i.kI.required,i.kI.minLength(6)]]})}ngOnInit(){}entrar(){var r,e;this.miFormulario.invalid?this.miFormulario.markAllAsTouched():this.miFormulario.errors||this.autService.loginUsuario(null===(r=this.miFormulario.get("email"))||void 0===r?void 0:r.value,null===(e=this.miFormulario.get("password"))||void 0===e?void 0:e.value).subscribe(r=>{r.ok&&(localStorage.setItem("token",r.token),this.router.navigateByUrl("/dashboard"))},r=>{this._snackBar.open(r.error.msg,"Ok",{duration:3e3,verticalPosition:"top"})})}campoNoValido(r){var e,a;return(null===(e=this.miFormulario.get(r))||void 0===e?void 0:e.invalid)&&(null===(a=this.miFormulario.get(r))||void 0===a?void 0:a.touched)}get emailErrorMsg(){var r;const e=null===(r=this.miFormulario.get("email"))||void 0===r?void 0:r.errors;return(null==e?void 0:e.required)?"Email es obligatorio":(null==e?void 0:e.pattern)?"El valor ingresado no tiene formato de correo":""}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(i.qu),n.Y36(s.e),n.Y36(o.F0),n.Y36(l.ux))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-login"]],decls:26,vars:3,consts:[[1,"login-page"],["autocomplete","off",1,"form__login",3,"formGroup","ngSubmit"],["appearance","legacy"],["matInput","","placeholder","Email","formControlName","email"],["matSuffix",""],["class","form-text text-danger",4,"ngIf"],["matInput","","placeholder","Contrase\xf1a","type","password","formControlName","password"],["mat-raised-button","","color","primary","type","submit"],[1,"mt-3"],["routerLink","/auth/registro"],[1,"form-text","text-danger"]],template:function(r,e){1&r&&(n.TgZ(0,"div",0),n.TgZ(1,"form",1),n.NdJ("ngSubmit",function(){return e.entrar()}),n.TgZ(2,"h1"),n._uU(3,"Iniciar Sesi\xf3n"),n.qZA(),n.TgZ(4,"div"),n.TgZ(5,"mat-form-field",2),n.TgZ(6,"mat-label"),n._uU(7,"Email"),n.qZA(),n._UZ(8,"input",3),n.TgZ(9,"mat-icon",4),n._uU(10,"email"),n.qZA(),n.YNc(11,g,2,1,"span",5),n.qZA(),n.qZA(),n.TgZ(12,"div"),n.TgZ(13,"mat-form-field",2),n.TgZ(14,"mat-label"),n._uU(15,"Contrase\xf1a"),n.qZA(),n._UZ(16,"input",6),n.TgZ(17,"mat-icon",4),n._uU(18,"password"),n.qZA(),n.YNc(19,p,2,0,"span",5),n.qZA(),n.qZA(),n.TgZ(20,"div"),n.TgZ(21,"button",7),n._uU(22,"Entrar"),n.qZA(),n.qZA(),n.TgZ(23,"div",8),n.TgZ(24,"a",9),n._uU(25,"\xbfNo tiene cuenta?"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&r&&(n.xp6(1),n.Q6J("formGroup",e.miFormulario),n.xp6(10),n.Q6J("ngIf",e.campoNoValido("email")),n.xp6(8),n.Q6J("ngIf",e.campoNoValido("password")))},directives:[i._Y,i.JL,i.sg,u.KE,u.hX,m.Nt,i.Fj,i.JJ,i.u,c.Hw,u.R9,t.O5,d.lW,o.yS],styles:[".login-page[_ngcontent-%COMP%]{height:100vh;width:100vw;display:flex;justify-content:center;align-items:center}"]}),r})()},{path:"registro",component:(()=>{class r{constructor(r,e,a,t){this.fb=r,this.autService=e,this.router=a,this._snackBar=t,this.nombreApellidoPattern="([a-zA-Z]+) ([a-zA-Z]+)",this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",this.miFormulario=this.fb.group({usuario:["",[i.kI.required,i.kI.pattern(this.nombreApellidoPattern)]],email:["",[i.kI.required,i.kI.pattern(this.emailPattern)]],"contrase\xf1a":["",[i.kI.required,i.kI.minLength(6)]],"contrase\xf1a2":["",[i.kI.required]]},{validators:[this.camposIguales("contrase\xf1a","contrase\xf1a2")]})}ngOnInit(){}crearUsuario(){var r,e,a;this.miFormulario.invalid?this.miFormulario.markAllAsTouched():this.miFormulario.errors||(this.autService.registrarUsuario(null===(r=this.miFormulario.get("usuario"))||void 0===r?void 0:r.value,null===(e=this.miFormulario.get("email"))||void 0===e?void 0:e.value,null===(a=this.miFormulario.get("contrase\xf1a"))||void 0===a?void 0:a.value).subscribe(r=>{!0===r.ok&&this.router.navigateByUrl("/dashboard")},r=>{this._snackBar.open(r.error.msg,"Ok",{duration:3e3,verticalPosition:"top"})}),this.miFormulario.reset({usuario:"",email:"","contrase\xf1a":"","contrase\xf1a2":""}))}campoNoValido(r){var e,a;return(null===(e=this.miFormulario.get(r))||void 0===e?void 0:e.invalid)&&(null===(a=this.miFormulario.get(r))||void 0===a?void 0:a.touched)}camposIguales(r,e){return a=>{var t,o,i,n;return(null===(t=a.get(r))||void 0===t?void 0:t.value)!==(null===(o=a.get(e))||void 0===o?void 0:o.value)?(null===(i=a.get(e))||void 0===i||i.setErrors({noIguales:!0}),{noIguales:!0}):(null===(n=a.get(e))||void 0===n||n.setErrors(null),null)}}get emailErrorMsg(){var r;const e=null===(r=this.miFormulario.get("email"))||void 0===r?void 0:r.errors;return(null==e?void 0:e.required)?"Email es obligatorio":(null==e?void 0:e.pattern)?"El valor ingresado no tiene formato de correo":""}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(i.qu),n.Y36(s.e),n.Y36(o.F0),n.Y36(l.ux))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-registro"]],decls:42,vars:5,consts:[[1,"register-page"],["autocomplete","off",1,"form__login",3,"formGroup","ngSubmit"],["appearance","legacy"],["matInput","","placeholder","Nombre de usuario","formControlName","usuario"],["matSuffix",""],["class","form-text text-danger",4,"ngIf"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","Contrase\xf1a","type","password","formControlName","contrase\xf1a"],["matInput","","placeholder","Confirme su contrase\xf1a","type","password","formControlName","contrase\xf1a2"],["mat-raised-button","","color","primary","type","submit"],[1,"mt-3"],["routerLink","/auth/login"],[1,"form-text","text-danger"]],template:function(r,e){1&r&&(n.TgZ(0,"div",0),n.TgZ(1,"form",1),n.NdJ("ngSubmit",function(){return e.crearUsuario()}),n.TgZ(2,"h1"),n._uU(3,"Crear Cuenta"),n.qZA(),n.TgZ(4,"div"),n.TgZ(5,"mat-form-field",2),n.TgZ(6,"mat-label"),n._uU(7,"Nombre de usuario"),n.qZA(),n._UZ(8,"input",3),n.TgZ(9,"mat-icon",4),n._uU(10,"person"),n.qZA(),n.YNc(11,Z,2,0,"span",5),n.qZA(),n.qZA(),n.TgZ(12,"div"),n.TgZ(13,"mat-form-field",2),n.TgZ(14,"mat-label"),n._uU(15,"Email"),n.qZA(),n._UZ(16,"input",6),n.TgZ(17,"mat-icon",4),n._uU(18,"email"),n.qZA(),n.YNc(19,h,2,1,"span",5),n.qZA(),n.qZA(),n.TgZ(20,"div"),n.TgZ(21,"mat-form-field",2),n.TgZ(22,"mat-label"),n._uU(23,"Contrase\xf1a"),n.qZA(),n._UZ(24,"input",7),n.TgZ(25,"mat-icon",4),n._uU(26,"password"),n.qZA(),n.YNc(27,v,2,0,"span",5),n.qZA(),n.qZA(),n.TgZ(28,"div"),n.TgZ(29,"mat-form-field",2),n.TgZ(30,"mat-label"),n._uU(31,"Confirme su contrase\xf1a"),n.qZA(),n._UZ(32,"input",8),n.TgZ(33,"mat-icon",4),n._uU(34,"password"),n.qZA(),n.YNc(35,f,2,0,"span",5),n.qZA(),n.qZA(),n.TgZ(36,"div"),n.TgZ(37,"button",9),n._uU(38,"Registrarse"),n.qZA(),n.qZA(),n.TgZ(39,"div",10),n.TgZ(40,"a",11),n._uU(41,"\xbfYa tiene una cuenta?"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&r&&(n.xp6(1),n.Q6J("formGroup",e.miFormulario),n.xp6(10),n.Q6J("ngIf",e.campoNoValido("usuario")),n.xp6(8),n.Q6J("ngIf",e.campoNoValido("email")),n.xp6(8),n.Q6J("ngIf",e.campoNoValido("contrase\xf1a")),n.xp6(8),n.Q6J("ngIf",e.campoNoValido("contrase\xf1a2")))},directives:[i._Y,i.JL,i.sg,u.KE,u.hX,m.Nt,i.Fj,i.JJ,i.u,c.Hw,u.R9,t.O5,d.lW,o.yS],styles:[".register-page[_ngcontent-%COMP%]{height:100vh;width:100vw;display:flex;justify-content:center;align-items:center}"]}),r})()},{path:"**",redirectTo:"login"}]}];let A=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[[o.Bz.forChild(q)],o.Bz]}),r})();var _=a(1770);let T=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[[t.ez,A,_.q,i.UX]]}),r})()}}]);